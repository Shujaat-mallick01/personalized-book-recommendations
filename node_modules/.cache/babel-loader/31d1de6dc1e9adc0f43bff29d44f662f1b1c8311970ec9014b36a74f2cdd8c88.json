{"ast":null,"code":"import React,{useState}from'react';import{useBooks}from'../../contexts/BookContext';import{searchBooks}from'../../services/bookAPI';import{Search,X}from'lucide-react';import'./SearchBar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchBar=()=>{const[query,setQuery]=useState('');const{setSearchResults,setLoading,setError}=useBooks();const handleSearch=async e=>{e.preventDefault();if(!query.trim())return;try{setLoading(true);setError(null);const results=await searchBooks(query,24);setSearchResults(results);setTimeout(()=>{const resultsSection=document.querySelector('.search-results');if(resultsSection){resultsSection.scrollIntoView({behavior:'smooth'});}},100);}catch(error){setError('Failed to search books. Please try again.');console.error('Search error:',error);}finally{setLoading(false);}};const handleClear=()=>{setQuery('');setSearchResults([]);};return/*#__PURE__*/_jsx(\"div\",{className:\"search-bar-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"search-bar\",onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:query,onChange:e=>setQuery(e.target.value),placeholder:\"Search for books, authors, or genres...\",className:\"search-input\"}),query&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleClear,className:\"clear-button\",children:/*#__PURE__*/_jsx(X,{size:16})}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"search-button\",children:[/*#__PURE__*/_jsx(Search,{size:16}),\"Search\"]})]})});};export default SearchBar;","map":{"version":3,"names":["React","useState","useBooks","searchBooks","Search","X","jsx","_jsx","jsxs","_jsxs","SearchBar","query","setQuery","setSearchResults","setLoading","setError","handleSearch","e","preventDefault","trim","results","setTimeout","resultsSection","document","querySelector","scrollIntoView","behavior","error","console","handleClear","className","children","onSubmit","type","value","onChange","target","placeholder","onClick","size"],"sources":["C:/Users/T K/Desktop/personalized-book-recommendations/src/components/SearchBar/index.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useBooks } from '../../contexts/BookContext';\r\nimport { searchBooks } from '../../services/bookAPI';\r\nimport { Search, X } from 'lucide-react';\r\nimport './SearchBar.css';\r\n\r\nconst SearchBar = () => {\r\n  const [query, setQuery] = useState('');\r\n  const { setSearchResults, setLoading, setError } = useBooks();\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!query.trim()) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const results = await searchBooks(query, 24);\r\n      setSearchResults(results);\r\n      \r\n      setTimeout(() => {\r\n        const resultsSection = document.querySelector('.search-results');\r\n        if (resultsSection) {\r\n          resultsSection.scrollIntoView({ behavior: 'smooth' });\r\n        }\r\n      }, 100);\r\n      \r\n    } catch (error) {\r\n      setError('Failed to search books. Please try again.');\r\n      console.error('Search error:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    setQuery('');\r\n    setSearchResults([]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-bar-container\">\r\n      <form className=\"search-bar\" onSubmit={handleSearch}>\r\n        <input\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={(e) => setQuery(e.target.value)}\r\n          placeholder=\"Search for books, authors, or genres...\"\r\n          className=\"search-input\"\r\n        />\r\n        {query && (\r\n          <button \r\n            type=\"button\" \r\n            onClick={handleClear}\r\n            className=\"clear-button\"\r\n          >\r\n            <X size={16} />\r\n          </button>\r\n        )}\r\n        <button type=\"submit\" className=\"search-button\">\r\n          <Search size={16} />\r\n          Search\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,QAAQ,KAAQ,4BAA4B,CACrD,OAASC,WAAW,KAAQ,wBAAwB,CACpD,OAASC,MAAM,CAAEC,CAAC,KAAQ,cAAc,CACxC,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAEY,gBAAgB,CAAEC,UAAU,CAAEC,QAAS,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAE7D,KAAM,CAAAc,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACP,KAAK,CAACQ,IAAI,CAAC,CAAC,CAAE,OAEnB,GAAI,CACFL,UAAU,CAAC,IAAI,CAAC,CAChBC,QAAQ,CAAC,IAAI,CAAC,CACd,KAAM,CAAAK,OAAO,CAAG,KAAM,CAAAjB,WAAW,CAACQ,KAAK,CAAE,EAAE,CAAC,CAC5CE,gBAAgB,CAACO,OAAO,CAAC,CAEzBC,UAAU,CAAC,IAAM,CACf,KAAM,CAAAC,cAAc,CAAGC,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC,CAChE,GAAIF,cAAc,CAAE,CAClBA,cAAc,CAACG,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CACvD,CACF,CAAC,CAAE,GAAG,CAAC,CAET,CAAE,MAAOC,KAAK,CAAE,CACdZ,QAAQ,CAAC,2CAA2C,CAAC,CACrDa,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACvC,CAAC,OAAS,CACRb,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAe,WAAW,CAAGA,CAAA,GAAM,CACxBjB,QAAQ,CAAC,EAAE,CAAC,CACZC,gBAAgB,CAAC,EAAE,CAAC,CACtB,CAAC,CAED,mBACEN,IAAA,QAAKuB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACnCtB,KAAA,SAAMqB,SAAS,CAAC,YAAY,CAACE,QAAQ,CAAEhB,YAAa,CAAAe,QAAA,eAClDxB,IAAA,UACE0B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEvB,KAAM,CACbwB,QAAQ,CAAGlB,CAAC,EAAKL,QAAQ,CAACK,CAAC,CAACmB,MAAM,CAACF,KAAK,CAAE,CAC1CG,WAAW,CAAC,yCAAyC,CACrDP,SAAS,CAAC,cAAc,CACzB,CAAC,CACDnB,KAAK,eACJJ,IAAA,WACE0B,IAAI,CAAC,QAAQ,CACbK,OAAO,CAAET,WAAY,CACrBC,SAAS,CAAC,cAAc,CAAAC,QAAA,cAExBxB,IAAA,CAACF,CAAC,EAACkC,IAAI,CAAE,EAAG,CAAE,CAAC,CACT,CACT,cACD9B,KAAA,WAAQwB,IAAI,CAAC,QAAQ,CAACH,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC7CxB,IAAA,CAACH,MAAM,EAACmC,IAAI,CAAE,EAAG,CAAE,CAAC,SAEtB,EAAQ,CAAC,EACL,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}