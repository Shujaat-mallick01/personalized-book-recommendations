{"ast":null,"code":"import React from'react';import{useBooks}from'../../contexts/BookContext';import{Clock,Calendar,Target,BookOpen,Star,TrendingUp}from'lucide-react';import{calculateReadingTime}from'../../utils/helpers';import'./ReadingStats.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReadingStats=()=>{const{readingList,ratings}=useBooks();const calculateStats=()=>{var _Object$entries$sort$;const totalBooks=readingList.length;const ratedBooks=Object.keys(ratings).length;const finishedBooks=readingList.filter(book=>book.readingStatus==='finished').length;const currentlyReading=readingList.filter(book=>book.readingStatus==='currently-reading').length;const totalPages=readingList.filter(book=>book.pageCount>0).reduce((sum,book)=>sum+book.pageCount,0);const estimatedReadingTime=calculateReadingTime(totalPages);const genreCount={};readingList.forEach(book=>{if(book.categories){book.categories.forEach(category=>{genreCount[category]=(genreCount[category]||0)+1;});}});const favoriteGenre=((_Object$entries$sort$=Object.entries(genreCount).sort((_ref,_ref2)=>{let[,a]=_ref;let[,b]=_ref2;return b-a;})[0])===null||_Object$entries$sort$===void 0?void 0:_Object$entries$sort$[0])||'None yet';const averageRating=ratedBooks>0?(Object.values(ratings).reduce((sum,rating)=>sum+rating,0)/ratedBooks).toFixed(1):0;return{totalBooks,ratedBooks,finishedBooks,currentlyReading,totalPages,estimatedReadingTime,favoriteGenre,averageRating};};const stats=calculateStats();return/*#__PURE__*/_jsxs(\"div\",{className:\"reading-stats\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(TrendingUp,{size:24}),\"Your Reading Statistics\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(BookOpen,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:stats.totalBooks}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total Books\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(Star,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"stat-number\",children:[stats.averageRating,\"/5\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Avg Rating\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(Target,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:stats.finishedBooks}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Completed\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(Calendar,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:stats.totalPages.toLocaleString()}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Pages Read\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(Clock,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:stats.estimatedReadingTime}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Reading Time\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card wide\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(BookOpen,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:stats.favoriteGenre}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Favorite Genre\"})]})]})]})]});};export default ReadingStats;","map":{"version":3,"names":["React","useBooks","Clock","Calendar","Target","BookOpen","Star","TrendingUp","calculateReadingTime","jsx","_jsx","jsxs","_jsxs","ReadingStats","readingList","ratings","calculateStats","_Object$entries$sort$","totalBooks","length","ratedBooks","Object","keys","finishedBooks","filter","book","readingStatus","currentlyReading","totalPages","pageCount","reduce","sum","estimatedReadingTime","genreCount","forEach","categories","category","favoriteGenre","entries","sort","_ref","_ref2","a","b","averageRating","values","rating","toFixed","stats","className","children","size","toLocaleString"],"sources":["C:/Users/T K/Desktop/personalized-book-recommendations/src/components/ReadingStats/index.js"],"sourcesContent":["import React from 'react';\r\nimport { useBooks } from '../../contexts/BookContext';\r\nimport { Clock, Calendar, Target, BookOpen, Star, TrendingUp } from 'lucide-react';\r\nimport { calculateReadingTime } from '../../utils/helpers';\r\nimport './ReadingStats.css';\r\n\r\nconst ReadingStats = () => {\r\n  const { readingList, ratings } = useBooks();\r\n\r\n  const calculateStats = () => {\r\n    const totalBooks = readingList.length;\r\n    const ratedBooks = Object.keys(ratings).length;\r\n    const finishedBooks = readingList.filter(book => book.readingStatus === 'finished').length;\r\n    const currentlyReading = readingList.filter(book => book.readingStatus === 'currently-reading').length;\r\n    \r\n    const totalPages = readingList\r\n      .filter(book => book.pageCount > 0)\r\n      .reduce((sum, book) => sum + book.pageCount, 0);\r\n    \r\n    const estimatedReadingTime = calculateReadingTime(totalPages);\r\n    \r\n    const genreCount = {};\r\n    readingList.forEach(book => {\r\n      if (book.categories) {\r\n        book.categories.forEach(category => {\r\n          genreCount[category] = (genreCount[category] || 0) + 1;\r\n        });\r\n      }\r\n    });\r\n    \r\n    const favoriteGenre = Object.entries(genreCount)\r\n      .sort(([,a], [,b]) => b - a)[0]?.[0] || 'None yet';\r\n\r\n    const averageRating = ratedBooks > 0 \r\n      ? (Object.values(ratings).reduce((sum, rating) => sum + rating, 0) / ratedBooks).toFixed(1)\r\n      : 0;\r\n\r\n    return {\r\n      totalBooks,\r\n      ratedBooks,\r\n      finishedBooks,\r\n      currentlyReading,\r\n      totalPages,\r\n      estimatedReadingTime,\r\n      favoriteGenre,\r\n      averageRating\r\n    };\r\n  };\r\n\r\n  const stats = calculateStats();\r\n\r\n  return (\r\n    <div className=\"reading-stats\">\r\n      <h3>\r\n        <TrendingUp size={24} />\r\n        Your Reading Statistics\r\n      </h3>\r\n      \r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">\r\n            <BookOpen size={20} />\r\n          </div>\r\n          <div className=\"stat-info\">\r\n            <span className=\"stat-number\">{stats.totalBooks}</span>\r\n            <span className=\"stat-label\">Total Books</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">\r\n            <Star size={20} />\r\n          </div>\r\n          <div className=\"stat-info\">\r\n            <span className=\"stat-number\">{stats.averageRating}/5</span>\r\n            <span className=\"stat-label\">Avg Rating</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">\r\n            <Target size={20} />\r\n          </div>\r\n          <div className=\"stat-info\">\r\n            <span className=\"stat-number\">{stats.finishedBooks}</span>\r\n            <span className=\"stat-label\">Completed</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">\r\n            <Calendar size={20} />\r\n          </div>\r\n          <div className=\"stat-info\">\r\n            <span className=\"stat-number\">{stats.totalPages.toLocaleString()}</span>\r\n            <span className=\"stat-label\">Pages Read</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">\r\n            <Clock size={20} />\r\n          </div>\r\n          <div className=\"stat-info\">\r\n            <span className=\"stat-number\">{stats.estimatedReadingTime}</span>\r\n            <span className=\"stat-label\">Reading Time</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card wide\">\r\n          <div className=\"stat-icon\">\r\n            <BookOpen size={20} />\r\n          </div>\r\n          <div className=\"stat-info\">\r\n            <span className=\"stat-number\">{stats.favoriteGenre}</span>\r\n            <span className=\"stat-label\">Favorite Genre</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReadingStats;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}