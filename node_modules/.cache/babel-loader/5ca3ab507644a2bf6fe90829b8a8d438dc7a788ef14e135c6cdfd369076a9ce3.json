{"ast":null,"code":"import React from'react';import{Link,useLocation,useNavigate}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{useUser}from'../../contexts/UserContext';import{useBooks}from'../../contexts/BookContext';import{BookOpen,Home,User,Sparkles,LogOut,Crown}from'lucide-react';import'./Navbar.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const{user:authUser,signOut}=useAuth();// Changed from logout to signOut\nconst{isPremium}=useUser();const{readingList}=useBooks();const location=useLocation();const navigate=useNavigate();const handleLogout=()=>{signOut();// Use signOut instead of logout\n// No need to navigate since signOut already redirects\n};const isActive=path=>location.pathname===path;return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-container\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"navbar-brand\",children:[/*#__PURE__*/_jsx(BookOpen,{size:28}),/*#__PURE__*/_jsx(\"span\",{children:\"BookRecommender\"}),isPremium&&/*#__PURE__*/_jsx(Crown,{size:20,className:\"premium-crown\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-nav\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"nav-link \".concat(isActive('/')?'active':''),children:[/*#__PURE__*/_jsx(Home,{size:20}),/*#__PURE__*/_jsx(\"span\",{children:\"Home\"})]}),authUser&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Link,{to:\"/recommendations\",className:\"nav-link \".concat(isActive('/recommendations')?'active':''),children:[/*#__PURE__*/_jsx(Sparkles,{size:20}),/*#__PURE__*/_jsx(\"span\",{children:\"Recommendations\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/profile\",className:\"nav-link \".concat(isActive('/profile')?'active':''),children:[/*#__PURE__*/_jsx(User,{size:20}),/*#__PURE__*/_jsx(\"span\",{children:\"Profile\"}),readingList.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"badge\",children:readingList.length})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-user\",children:authUser?/*#__PURE__*/_jsxs(\"div\",{className:\"user-menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:authUser.picture,alt:authUser.name,className:\"user-avatar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:authUser.name}),isPremium&&/*#__PURE__*/_jsx(\"span\",{className:\"premium-badge\",children:\"Premium\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"logout-button\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(LogOut,{size:16}),\"Logout\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"auth-buttons\",children:/*#__PURE__*/_jsx(\"span\",{className:\"welcome-text\",children:\"Welcome! Please sign in to get started.\"})})})]})});};export default Navbar;","map":{"version":3,"names":["React","Link","useLocation","useNavigate","useAuth","useUser","useBooks","BookOpen","Home","User","Sparkles","LogOut","Crown","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","user","authUser","signOut","isPremium","readingList","location","navigate","handleLogout","isActive","path","pathname","className","children","to","size","concat","length","src","picture","alt","name","onClick"],"sources":["C:/Users/T K/Desktop/personalized-book-recommendations/src/components/Navbar/index.js"],"sourcesContent":["import React from 'react';\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useUser } from '../../contexts/UserContext';\r\nimport { useBooks } from '../../contexts/BookContext';\r\nimport { \r\n  BookOpen, \r\n  Home, \r\n  User, \r\n  Sparkles, \r\n  LogOut, \r\n  Crown \r\n} from 'lucide-react';\r\nimport './Navbar.css';\r\n\r\nconst Navbar = () => {\r\n  const { user: authUser, signOut } = useAuth(); // Changed from logout to signOut\r\n  const { isPremium } = useUser();\r\n  const { readingList } = useBooks();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = () => {\r\n    signOut(); // Use signOut instead of logout\r\n    // No need to navigate since signOut already redirects\r\n  };\r\n\r\n  const isActive = (path) => location.pathname === path;\r\n\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <div className=\"navbar-container\">\r\n        <Link to=\"/\" className=\"navbar-brand\">\r\n          <BookOpen size={28} />\r\n          <span>BookRecommender</span>\r\n          {isPremium && <Crown size={20} className=\"premium-crown\" />}\r\n        </Link>\r\n\r\n        <div className=\"navbar-nav\">\r\n          <Link \r\n            to=\"/\" \r\n            className={`nav-link ${isActive('/') ? 'active' : ''}`}\r\n          >\r\n            <Home size={20} />\r\n            <span>Home</span>\r\n          </Link>\r\n          \r\n          {authUser && (\r\n            <>\r\n              <Link \r\n                to=\"/recommendations\" \r\n                className={`nav-link ${isActive('/recommendations') ? 'active' : ''}`}\r\n              >\r\n                <Sparkles size={20} />\r\n                <span>Recommendations</span>\r\n              </Link>\r\n              \r\n              <Link \r\n                to=\"/profile\" \r\n                className={`nav-link ${isActive('/profile') ? 'active' : ''}`}\r\n              >\r\n                <User size={20} />\r\n                <span>Profile</span>\r\n                {readingList.length > 0 && (\r\n                  <span className=\"badge\">{readingList.length}</span>\r\n                )}\r\n              </Link>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"navbar-user\">\r\n          {authUser ? (\r\n            <div className=\"user-menu\">\r\n              <div className=\"user-info\">\r\n                <img \r\n                  src={authUser.picture} \r\n                  alt={authUser.name}\r\n                  className=\"user-avatar\"\r\n                />\r\n                <span className=\"user-name\">{authUser.name}</span>\r\n                {isPremium && <span className=\"premium-badge\">Premium</span>}\r\n              </div>\r\n              <button className=\"logout-button\" onClick={handleLogout}>\r\n                <LogOut size={16} />\r\n                Logout\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"auth-buttons\">\r\n              <span className=\"welcome-text\">Welcome! Please sign in to get started.</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}