{"ast":null,"code":"import _objectSpread from\"C:/Users/T K/Desktop/personalized-book-recommendations/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useState,useEffect,useCallback}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const UserContext=/*#__PURE__*/createContext();export const useUser=()=>{const context=useContext(UserContext);if(!context){throw new Error('useUser must be used within UserProvider');}return context;};export const UserProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState({name:'',email:'',isSetup:false});const[preferences,setPreferences]=useState({genres:[],authors:[],readingGoal:12,favoriteBooks:[]});// Add premium state\nconst[isPremium,setIsPremium]=useState(false);// Load from localStorage on mount\nuseEffect(()=>{const savedUser=localStorage.getItem('bookApp_user');const savedPreferences=localStorage.getItem('bookApp_preferences');const savedPremium=localStorage.getItem('bookApp_premium');if(savedUser)setUser(JSON.parse(savedUser));if(savedPreferences)setPreferences(JSON.parse(savedPreferences));if(savedPremium)setIsPremium(JSON.parse(savedPremium));},[]);// Save to localStorage when data changes\nuseEffect(()=>{if(user.name){localStorage.setItem('bookApp_user',JSON.stringify(user));}},[user]);useEffect(()=>{localStorage.setItem('bookApp_preferences',JSON.stringify(preferences));},[preferences]);// Save premium status to localStorage\nuseEffect(()=>{localStorage.setItem('bookApp_premium',JSON.stringify(isPremium));},[isPremium]);const updateUser=userData=>{setUser(prev=>_objectSpread(_objectSpread({},prev),userData));};const updatePreferences=newPreferences=>{setPreferences(prev=>_objectSpread(_objectSpread({},prev),newPreferences));};// Add premium upgrade function\nconst upgradeToPremium=useCallback(()=>{console.log('Upgrading to premium...');setIsPremium(true);// Show success message\nsetTimeout(()=>{alert('ðŸŽ‰ Congratulations! You are now a Premium user!\\n\\nYou now have access to:\\nâ€¢ Book purchase links\\nâ€¢ Library integration\\nâ€¢ Advanced statistics\\nâ€¢ Unlimited reading lists');},100);},[]);// Add downgrade function (for testing)\nconst cancelPremium=useCallback(()=>{setIsPremium(false);alert('Premium subscription cancelled. You can upgrade again anytime!');},[]);const value={user,setUser,updateUser,preferences,setPreferences,updatePreferences,isPremium,upgradeToPremium,cancelPremium};return/*#__PURE__*/_jsx(UserContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","jsx","_jsx","UserContext","useUser","context","Error","UserProvider","_ref","children","user","setUser","name","email","isSetup","preferences","setPreferences","genres","authors","readingGoal","favoriteBooks","isPremium","setIsPremium","savedUser","localStorage","getItem","savedPreferences","savedPremium","JSON","parse","setItem","stringify","updateUser","userData","prev","_objectSpread","updatePreferences","newPreferences","upgradeToPremium","console","log","setTimeout","alert","cancelPremium","value","Provider"],"sources":["C:/Users/T K/Desktop/personalized-book-recommendations/src/contexts/UserContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\r\n\r\nconst UserContext = createContext();\r\n\r\nexport const useUser = () => {\r\n  const context = useContext(UserContext);\r\n  if (!context) {\r\n    throw new Error('useUser must be used within UserProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const UserProvider = ({ children }) => {\r\n  const [user, setUser] = useState({\r\n    name: '',\r\n    email: '',\r\n    isSetup: false\r\n  });\r\n  \r\n  const [preferences, setPreferences] = useState({\r\n    genres: [],\r\n    authors: [],\r\n    readingGoal: 12,\r\n    favoriteBooks: []\r\n  });\r\n\r\n  // Add premium state\r\n  const [isPremium, setIsPremium] = useState(false);\r\n\r\n  // Load from localStorage on mount\r\n  useEffect(() => {\r\n    const savedUser = localStorage.getItem('bookApp_user');\r\n    const savedPreferences = localStorage.getItem('bookApp_preferences');\r\n    const savedPremium = localStorage.getItem('bookApp_premium');\r\n    \r\n    if (savedUser) setUser(JSON.parse(savedUser));\r\n    if (savedPreferences) setPreferences(JSON.parse(savedPreferences));\r\n    if (savedPremium) setIsPremium(JSON.parse(savedPremium));\r\n  }, []);\r\n\r\n  // Save to localStorage when data changes\r\n  useEffect(() => {\r\n    if (user.name) {\r\n      localStorage.setItem('bookApp_user', JSON.stringify(user));\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('bookApp_preferences', JSON.stringify(preferences));\r\n  }, [preferences]);\r\n\r\n  // Save premium status to localStorage\r\n  useEffect(() => {\r\n    localStorage.setItem('bookApp_premium', JSON.stringify(isPremium));\r\n  }, [isPremium]);\r\n\r\n  const updateUser = (userData) => {\r\n    setUser(prev => ({ ...prev, ...userData }));\r\n  };\r\n\r\n  const updatePreferences = (newPreferences) => {\r\n    setPreferences(prev => ({ ...prev, ...newPreferences }));\r\n  };\r\n\r\n  // Add premium upgrade function\r\n  const upgradeToPremium = useCallback(() => {\r\n    console.log('Upgrading to premium...');\r\n    setIsPremium(true);\r\n    \r\n    // Show success message\r\n    setTimeout(() => {\r\n      alert('ðŸŽ‰ Congratulations! You are now a Premium user!\\n\\nYou now have access to:\\nâ€¢ Book purchase links\\nâ€¢ Library integration\\nâ€¢ Advanced statistics\\nâ€¢ Unlimited reading lists');\r\n    }, 100);\r\n  }, []);\r\n\r\n  // Add downgrade function (for testing)\r\n  const cancelPremium = useCallback(() => {\r\n    setIsPremium(false);\r\n    alert('Premium subscription cancelled. You can upgrade again anytime!');\r\n  }, []);\r\n\r\n  const value = {\r\n    user,\r\n    setUser,\r\n    updateUser,\r\n    preferences,\r\n    setPreferences,\r\n    updatePreferences,\r\n    isPremium,\r\n    upgradeToPremium,\r\n    cancelPremium\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider value={value}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}