{"ast":null,"code":"import React,{useState}from'react';import{useBooks}from'../../contexts/BookContext';import BookCard from'../BookCard';import{Shuffle,RefreshCw}from'lucide-react';import'./RandomBookPicker.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RandomBookPicker=()=>{const{readingList}=useBooks();const[randomBook,setRandomBook]=useState(null);const[isSpinning,setIsSpinning]=useState(false);const pickRandomBook=()=>{if(readingList.length===0)return;setIsSpinning(true);setTimeout(()=>{const randomIndex=Math.floor(Math.random()*readingList.length);setRandomBook(readingList[randomIndex]);setIsSpinning(false);},500);};const getUnreadBooks=()=>{return readingList.filter(book=>book.readingStatus!=='finished');};const pickUnreadBook=()=>{const unreadBooks=getUnreadBooks();if(unreadBooks.length===0)return;setIsSpinning(true);setTimeout(()=>{const randomIndex=Math.floor(Math.random()*unreadBooks.length);setRandomBook(unreadBooks[randomIndex]);setIsSpinning(false);},500);};if(readingList.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"random-picker-empty\",children:[/*#__PURE__*/_jsx(Shuffle,{size:48}),/*#__PURE__*/_jsx(\"h4\",{children:\"No books to pick from\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Add some books to your reading list first!\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"random-book-picker\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"picker-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(Shuffle,{size:24}),\"Random Book Picker\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"picker-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"pick-button\",onClick:pickRandomBook,disabled:isSpinning,children:[/*#__PURE__*/_jsx(RefreshCw,{size:16,className:isSpinning?'spinning':''}),\"Pick Any Book\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"pick-button unread\",onClick:pickUnreadBook,disabled:isSpinning||getUnreadBooks().length===0,children:[/*#__PURE__*/_jsx(Shuffle,{size:16}),\"Pick Unread Book\"]})]})]}),randomBook&&/*#__PURE__*/_jsxs(\"div\",{className:\"random-book-result\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Your random pick:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"random-book-card\",children:/*#__PURE__*/_jsx(BookCard,{book:randomBook,showAddToList:false})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"picker-stats\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Total books: \",readingList.length]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Unread: \",getUnreadBooks().length]})]})]});};export default RandomBookPicker;","map":{"version":3,"names":["React","useState","useBooks","BookCard","Shuffle","RefreshCw","jsx","_jsx","jsxs","_jsxs","RandomBookPicker","readingList","randomBook","setRandomBook","isSpinning","setIsSpinning","pickRandomBook","length","setTimeout","randomIndex","Math","floor","random","getUnreadBooks","filter","book","readingStatus","pickUnreadBook","unreadBooks","className","children","size","onClick","disabled","showAddToList"],"sources":["C:/Users/T K/Desktop/personalized-book-recommendations/src/components/RandomBookPicker/index.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useBooks } from '../../contexts/BookContext';\r\nimport BookCard from '../BookCard';\r\nimport { Shuffle, RefreshCw } from 'lucide-react';\r\nimport './RandomBookPicker.css';\r\n\r\nconst RandomBookPicker = () => {\r\n  const { readingList } = useBooks();\r\n  const [randomBook, setRandomBook] = useState(null);\r\n  const [isSpinning, setIsSpinning] = useState(false);\r\n\r\n  const pickRandomBook = () => {\r\n    if (readingList.length === 0) return;\r\n    \r\n    setIsSpinning(true);\r\n    setTimeout(() => {\r\n      const randomIndex = Math.floor(Math.random() * readingList.length);\r\n      setRandomBook(readingList[randomIndex]);\r\n      setIsSpinning(false);\r\n    }, 500);\r\n  };\r\n\r\n  const getUnreadBooks = () => {\r\n    return readingList.filter(book => book.readingStatus !== 'finished');\r\n  };\r\n\r\n  const pickUnreadBook = () => {\r\n    const unreadBooks = getUnreadBooks();\r\n    if (unreadBooks.length === 0) return;\r\n    \r\n    setIsSpinning(true);\r\n    setTimeout(() => {\r\n      const randomIndex = Math.floor(Math.random() * unreadBooks.length);\r\n      setRandomBook(unreadBooks[randomIndex]);\r\n      setIsSpinning(false);\r\n    }, 500);\r\n  };\r\n\r\n  if (readingList.length === 0) {\r\n    return (\r\n      <div className=\"random-picker-empty\">\r\n        <Shuffle size={48} />\r\n        <h4>No books to pick from</h4>\r\n        <p>Add some books to your reading list first!</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"random-book-picker\">\r\n      <div className=\"picker-header\">\r\n        <h3>\r\n          <Shuffle size={24} />\r\n          Random Book Picker\r\n        </h3>\r\n        <div className=\"picker-buttons\">\r\n          <button \r\n            className=\"pick-button\"\r\n            onClick={pickRandomBook}\r\n            disabled={isSpinning}\r\n          >\r\n            <RefreshCw size={16} className={isSpinning ? 'spinning' : ''} />\r\n            Pick Any Book\r\n          </button>\r\n          <button \r\n            className=\"pick-button unread\"\r\n            onClick={pickUnreadBook}\r\n            disabled={isSpinning || getUnreadBooks().length === 0}\r\n          >\r\n            <Shuffle size={16} />\r\n            Pick Unread Book\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {randomBook && (\r\n        <div className=\"random-book-result\">\r\n          <h4>Your random pick:</h4>\r\n          <div className=\"random-book-card\">\r\n            <BookCard book={randomBook} showAddToList={false} />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"picker-stats\">\r\n        <span>Total books: {readingList.length}</span>\r\n        <span>Unread: {getUnreadBooks().length}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RandomBookPicker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}